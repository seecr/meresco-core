Changeset created on 2009-11-10 12:45:58 +0100 (Tue, 10 Nov 2009) by Seek You Too

Description: fix in namespace drilldown

Baseline version: meresco-core/tags/version_2.22.6

diff --unidirectional-new-file --exclude=.svn --exclude='*.pyc' --exclude=applied --recursive --unified version_2.22.6/merescocore/components/drilldown/drilldown.py version_2.22.7/merescocore/components/drilldown/drilldown.py
--- version_2.22.6/merescocore/components/drilldown/drilldown.py	2010-01-21 19:26:16.000000000 +0100
+++ version_2.22.7/merescocore/components/drilldown/drilldown.py	2010-01-21 19:26:44.000000000 +0100
@@ -29,7 +29,7 @@
 DEFAULT_MAXIMUM_TERMS = 10
 
 DRILLDOWN_HEADER = """<dd:drilldown
-    xmlns:dd="http://namespace.meresco.org/drilldown"
+    xmlns:dd="http://meresco.com/namespace/drilldown"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-    xsi:schemaLocation="http://namespace.meresco.org/drilldown http://namespace.drilldown.org/xsd/drilldown.xsd">"""
+    xsi:schemaLocation="http://meresco.com/namespace/drilldown http://meresco.com/files/xsd/drilldown-20070730.xsd">"""
 DRILLDOWN_FOOTER = "</dd:drilldown>"
\ No newline at end of file
diff --unidirectional-new-file --exclude=.svn --exclude='*.pyc' --exclude=applied --recursive --unified version_2.22.6/test/sru/sruhandlertest.py version_2.22.7/test/sru/sruhandlertest.py
--- version_2.22.6/test/sru/sruhandlertest.py	2010-01-21 19:26:07.000000000 +0100
+++ version_2.22.7/test/sru/sruhandlertest.py	2010-01-21 19:26:36.000000000 +0100
@@ -125,7 +125,7 @@
         sruTermDrilldown.addObserver(observer)
         sruHandler.addObserver(sruTermDrilldown)
         result = "".join(list(sruHandler._writeExtraResponseData(cqlAbstractSyntaxTree=None, **arguments)))
-        self.assertEqualsWS("""<srw:extraResponseData><dd:drilldown\n    xmlns:dd="http://namespace.meresco.org/drilldown"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:schemaLocation="http://namespace.meresco.org/drilldown http://namespace.drilldown.org/xsd/drilldown.xsd"><dd:term-drilldown><dd:navigator name="field0"><dd:item count="14">value0_0</dd:item></dd:navigator><dd:navigator name="field1"><dd:item count="13">value1_0</dd:item><dd:item count="11">value1_1</dd:item></dd:navigator><dd:navigator name="field2"><dd:item count="3">value2_0</dd:item><dd:item count="2">value2_1</dd:item><dd:item count="1">value2_2</dd:item></dd:navigator></dd:term-drilldown></dd:drilldown></srw:extraResponseData>""" , result)
+        self.assertEqualsWS("""<srw:extraResponseData><dd:drilldown\n    xmlns:dd="http://meresco.com/namespace/drilldown"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:schemaLocation="http://meresco.com/namespace/drilldown http://meresco.com/files/xsd/drilldown-20070730.xsd"><dd:term-drilldown><dd:navigator name="field0"><dd:item count="14">value0_0</dd:item></dd:navigator><dd:navigator name="field1"><dd:item count="13">value1_0</dd:item><dd:item count="11">value1_1</dd:item></dd:navigator><dd:navigator name="field2"><dd:item count="3">value2_0</dd:item><dd:item count="2">value2_1</dd:item><dd:item count="1">value2_2</dd:item></dd:navigator></dd:term-drilldown></dd:drilldown></srw:extraResponseData>""" , result)
 
     def testNextRecordPosition(self):
         observer = CallTrace()

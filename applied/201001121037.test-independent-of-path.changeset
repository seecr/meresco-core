Changeset created on 2010-01-12 10:37:49 +0100 (Tue, 12 Jan 2010) by Seek You Too

Description: Test independent of path so test can run on an installed meresco version.

Baseline version: meresco-core/tags/version_2.22.7

diff --unidirectional-new-file --exclude=.svn --exclude='*.pyc' --exclude=applied --recursive --unified version_2.22.7/test/logobservertest.py version_2.22.8/test/logobservertest.py
--- version_2.22.7/test/logobservertest.py	2010-01-21 19:26:37.000000000 +0100
+++ version_2.22.8/test/logobservertest.py	2010-01-21 19:26:45.000000000 +0100
@@ -79,9 +79,9 @@
         a.a()
         lines = stream.getvalue().split('\n')
         self.assertTrue('Traceback (most recent call last):' in lines[0], lines[0])
-        self.assertTrue('/test/logobservertest.py",' in lines[1], lines[1])
+        self.assertTrue('/logobservertest.py",' in lines[1], lines[1])
         self.assertTrue('    self.any.b()' in lines[2], lines[2])
-        self.assertTrue('test/logobservertest.py", line ' in lines[3], lines[3])
+        self.assertTrue('/logobservertest.py", line ' in lines[3], lines[3])
         self.assertTrue("    def b(self): raise Exception('B')" in lines[4], lines[4])
         self.assertTrue('Exception: B' in lines[5], lines[5])
         self.assertEquals('', lines[6])
diff --unidirectional-new-file --exclude=.svn --exclude='*.pyc' --exclude=applied --recursive --unified version_2.22.7/test/statisticstest.py version_2.22.8/test/statisticstest.py
--- version_2.22.7/test/statisticstest.py	2010-01-21 19:26:37.000000000 +0100
+++ version_2.22.8/test/statisticstest.py	2010-01-21 19:26:45.000000000 +0100
@@ -414,8 +414,10 @@
         # Add the tools package to the python path so the conversion tool can
         # be imported
         # <hack>
-        from os.path import dirname
+        from os.path import dirname, isdir
         toolsPath = join(dirname(dirname(__file__)), 'tools')
+        if not isdir(toolsPath):
+            return
         from sys import path
         path.insert(0, toolsPath)
         import convert_statistics
